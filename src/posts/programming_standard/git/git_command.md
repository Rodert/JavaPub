---
title: ä¼ä¸šç”Ÿäº§ç¯å¢ƒä¸­æœ€å¸¸ä½¿ç”¨çš„gitç»„åˆå‘½ä»¤é›†
icon: lightbulb
---




æŒç»­æ›´æ–°gitå‘½ä»¤é›†



ä»¥ä¸‹æ¡ˆä¾‹æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æœ€å¸¸ä½¿ç”¨çš„gitç»„åˆå‘½ä»¤é›†ã€‚

[toc]

## æ¡ˆä¾‹1

æœ€å¸¸ä½¿ç”¨å‘½ä»¤é›†ï¼Œæ‹‰å–æ–°åˆ†æ”¯ - å†™ä»£ç  - æäº¤ä»£ç  - åˆå¹¶åˆ°ä¸»åˆ†æ”¯

```bash
git checkout -b feature/new-branch #æ‹‰å–æ–°åˆ†æ”¯
git add . #æäº¤ä»£ç 
git commit -m 'ç¬¬ä¸€æ¬¡æäº¤' 
git push
git checkout develop #åˆ‡æ¢åˆ†æ”¯
git merge feature/new-branch #åˆå¹¶åˆ†æ”¯
ä»¥ä¸Šæ˜¯æˆ‘ä»¬æœ€æœ€å¸¸ä½¿ç”¨çš„gitå‘½ä»¤
```

---



## æ¡ˆä¾‹2ï¼ˆgit stashï¼‰

åœºæ™¯ï¼šä¸€å¤§æ—©é¢†å¯¼ç”²æŸåˆ†é…ç»™på“¥ä¸€ä¸ªéœ€æ±‚ï¼Œè¦æ±‚ä¸‹ç­å‰å®Œæˆï¼Œå°æé©¬ä¸åœè¹„ï¼Œæ‹‰å–æ–°åˆ†æ”¯ command+C/V å“¼å“§å“¼å“§æäº†èµ·æ¥ã€‚ä¸‹åˆ1:30pmï¼Œç”²æŸï¼špå“¥ï¼Œç°åœºæœ‰ä¸ªç´§æ€¥éœ€æ±‚ï¼Œä½ å¿«ç‚¹å¤„ç†ä¸€ä¸‹ï¼Œä¸€å°æ—¶åä¸Šçº¿ã€‚

å¯¹äºè¿™ç§æƒ…å†µï¼Œpå“¥ä¸æƒ³å¼€æ–°åˆ†æ”¯ï¼Œåˆä¸æƒ³æŠŠæ²¡å¼€å‘å®Œçš„ä»£ç æäº¤è¿œç¨‹ä»“åº“ï¼Œä»–æ˜¯è¿™æ ·åšçš„ã€‚åšæ³•ï¼šå°†å·¥ä½œåŒºå†…å®¹ `stash` æš‚å­˜èµ·æ¥ï¼Œåœ¨å½“å‰åˆ†æ”¯è¿›è¡Œç´§æ€¥éœ€æ±‚å¼€å‘æäº¤ï¼Œå†å°†å·¥ä½œåŒºçš„å†…å®¹å–å‡ºæ¥ï¼Œæ¢å¤åˆ°æš‚å­˜æ—¶çš„çŠ¶æ€ã€‚

![stashç¿»è¯‘](https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F06%2F15%2F20240615-091849.png)

æ¢å¤æš‚å­˜æ—¶çš„çŠ¶æ€æœ‰ä¿©ç§å‘½ä»¤ï¼š

1. git stash pop
2. git stash apply

ä¿©ç§éƒ½å¯ä»¥ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

ä½¿ç”¨ git stash å‘½ä»¤ä¹‹åä¼šåœ¨stashåˆ—è¡¨ä¸­ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„ä¿¡æ¯ï¼Œä½¿ç”¨ apply å‘½ä»¤æ¢å¤ï¼Œstash åˆ—è¡¨ä¸­çš„ä¿¡æ¯æ˜¯ä¼šç»§ç»­ä¿ç•™çš„ï¼Œè€Œä½¿ç”¨ pop å‘½ä»¤è¿›è¡Œæ¢å¤ï¼Œä¼šå°† stashåˆ—è¡¨ä¸­çš„ä¿¡æ¯è¿›è¡Œåˆ é™¤ã€‚

**ä¾‹å­ï¼š**

- åˆå§‹çŠ¶æ€index.htmlæ–‡ä»¶åœ¨å·¥ä½œåŒºè¿›è¡Œä¿®æ”¹ï¼šå¯ä»¥ä½¿ç”¨å‘½ä»¤git status å’Œgit diffçœ‹åˆ°æ­¤æ—¶çš„ä¿®æ”¹ä¿¡æ¯

![gitstatus](https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F06%2F15%2F20240615-091851.png)



è¿™ä¸ªæ—¶å€™è¿˜æ²¡æœ‰ä¿®æ”¹å®Œï¼Œä¸æƒ³æäº¤ï¼Œä½†æ˜¯è¦å»ä¿®å¤bugã€‚

- å°†indexæ–‡ä»¶çš„å†…å®¹ stash èµ·æ¥ï¼Œä½¿ç”¨å‘½ä»¤ï¼šgit stashï¼Œå¦‚ä¸‹å›¾ï¼šä½¿ç”¨ git stash å‘½ä»¤åï¼Œå†ä½¿ç”¨ git status æˆ–è€… git diff æŸ¥çœ‹å¯ä»¥å‘ç°ï¼Œå¯¹å·¥ä½œåŒºçš„ä¿®æ”¹å†…å®¹å·²ç»æ²¡æœ‰äº†ï¼Œè¿™ä¸ªæ—¶å€™è¿›è¡Œbugä¿®å¤æäº¤



![gitstash](https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F06%2F15%2F20240615-091855.png)



- bugä¿®å¤æäº¤åï¼Œæ¢å¤ä¹‹å‰æš‚å­˜çš„çŠ¶æ€ï¼Œè¿™ä¸ªæ—¶å€™æœ‰ä¸¤ç§å‘½ä»¤å¯é€‰ï¼Œæˆ‘ä»¬é€‰æ‹©ï¼šgit stash pop å‘½ä»¤

![gitstashpop](https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F06%2F15%2F20240615-091857.png)



- å¹¶ä½¿ç”¨ git status å’Œ git diff å¯ä»¥å‘ç°ï¼Œæ­¤æ—¶å·¥ä½œåŒº indexæ–‡ä»¶çš„å†…å®¹è·Ÿæˆ‘ä»¬æš‚å­˜å‰æ˜¯ä¸€æ ·çš„ã€‚

å¸¸ç”¨git stashå‘½ä»¤ï¼š

ï¼ˆ1ï¼‰**git stash** save "save message" : æ‰§è¡Œå­˜å‚¨æ—¶ï¼Œæ·»åŠ å¤‡æ³¨ï¼Œæ–¹ä¾¿æŸ¥æ‰¾ï¼Œåªæœ‰git stash ä¹Ÿè¦å¯ä»¥çš„ï¼Œä½†æŸ¥æ‰¾æ—¶ä¸æ–¹ä¾¿è¯†åˆ«ã€‚

ï¼ˆ2ï¼‰**git stash list** ï¼šæŸ¥çœ‹stashäº†å“ªäº›å­˜å‚¨

ï¼ˆ3ï¼‰**git stash show** ï¼šæ˜¾ç¤ºåšäº†å“ªäº›æ”¹åŠ¨ï¼Œé»˜è®¤showç¬¬ä¸€ä¸ªå­˜å‚¨,å¦‚æœè¦æ˜¾ç¤ºå…¶ä»–å­˜è´®ï¼Œåé¢åŠ stash@{$num}ï¼Œæ¯”å¦‚ç¬¬äºŒä¸ª git stash show stash@{1}

ï¼ˆ4ï¼‰**git stash show -p** : æ˜¾ç¤ºç¬¬ä¸€ä¸ªå­˜å‚¨çš„æ”¹åŠ¨ï¼Œå¦‚æœæƒ³æ˜¾ç¤ºå…¶ä»–å­˜å­˜å‚¨ï¼Œå‘½ä»¤ï¼šgit stash show stash@{$num} -p ï¼Œæ¯”å¦‚ç¬¬äºŒä¸ªï¼šgit stash show stash@{1} -p    `å¾…ç¡®å®šï¼Ÿï¼Ÿï¼Ÿ`

ï¼ˆ5ï¼‰**git stash apply** :åº”ç”¨æŸä¸ªå­˜å‚¨,ä½†ä¸ä¼šæŠŠå­˜å‚¨ä»å­˜å‚¨åˆ—è¡¨ä¸­åˆ é™¤ï¼Œé»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªå­˜å‚¨,å³stash@{0}ï¼Œå¦‚æœè¦ä½¿ç”¨å…¶ä»–ä¸ªï¼Œgit stash apply stash@{$num} ï¼Œ æ¯”å¦‚ç¬¬äºŒä¸ªï¼šgit stash apply stash@{1} 

ï¼ˆ6ï¼‰**git stash pop** ï¼šå‘½ä»¤æ¢å¤ä¹‹å‰ç¼“å­˜çš„å·¥ä½œç›®å½•ï¼Œå°†ç¼“å­˜å †æ ˆä¸­çš„å¯¹åº”stashåˆ é™¤ï¼Œå¹¶å°†å¯¹åº”ä¿®æ”¹åº”ç”¨åˆ°å½“å‰çš„å·¥ä½œç›®å½•ä¸‹,é»˜è®¤ä¸ºç¬¬ä¸€ä¸ªstash,å³stash@{0}ï¼Œå¦‚æœè¦åº”ç”¨å¹¶åˆ é™¤å…¶ä»–stashï¼Œå‘½ä»¤ï¼šgit stash pop stash@{$num} ï¼Œæ¯”å¦‚åº”ç”¨å¹¶åˆ é™¤ç¬¬äºŒä¸ªï¼šgit stash pop stash@{1}

ï¼ˆ7ï¼‰**git stash drop** stash@{$num} ï¼šä¸¢å¼ƒstash@{$num}å­˜å‚¨ï¼Œä»åˆ—è¡¨ä¸­åˆ é™¤è¿™ä¸ªå­˜å‚¨

ï¼ˆ8ï¼‰**git stash clear** ï¼šåˆ é™¤æ‰€æœ‰ç¼“å­˜çš„stash

---

---

## æ¡ˆä¾‹3ï¼ˆgit cherry-pickï¼‰

`gi cherry-pick` å¯ä»¥ç†è§£ä¸ºâ€œæŒ‘æ‹£â€æäº¤ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ä»£ç ä»ä¸€ä¸ªåˆ†æ”¯è¿ç§»åˆ°å¦ä¸€ä¸ªåˆ†æ”¯çš„éœ€æ±‚ã€‚

å¦‚æœæ˜¯æ‰€æœ‰ä»£ç ï¼Œç›´æ¥ `git merge` ï¼Œå¦ä¸€ç§æƒ…å†µï¼Œåªéœ€è¦åˆå¹¶ä¸€æ¬¡æˆ–å‡ æ¬¡æäº¤ã€‚ï¼ˆæ¯”å¦‚ï¼Œæˆ‘ä»¬æ‹¿åˆ°éœ€æ±‚åï¼Œä¸€é€šç‹‚å†™git pushï¼Œæœ€åå‘ç°æäº¤åˆ°äº†æµ‹è¯•åˆ†æ”¯ï¼Œå¦‚æœä¸ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œé‚£åªèƒ½ä¸€ç‚¹ä¸€ç‚¹å¾€æ–°åˆ†æ”¯è¿ç§»ï¼Œè¿™é‡Œçš„å¿ƒé…¸ğŸ˜”ï¼Œè°å¹² è°çŸ¥é“ã€‚ï¼‰è¿™æ—¶ï¼Œtaæ¥äº† `git cherry-pick` 



- **åŸºæœ¬ç”¨æ³•**

`git cherry-pick`å‘½ä»¤çš„ä½œç”¨ï¼Œå°±æ˜¯å°†æŒ‡å®šçš„æäº¤ï¼ˆcommitï¼‰åº”ç”¨äºå…¶ä»–åˆ†æ”¯ã€‚

 ```bash
 $ git cherry-pick <commitHash>
 ```

ä¸Šé¢å‘½ä»¤å°±ä¼šå°†æŒ‡å®šçš„æäº¤`commitHash`ï¼Œåº”ç”¨äºå½“å‰åˆ†æ”¯ã€‚è¿™ä¼šåœ¨å½“å‰åˆ†æ”¯äº§ç”Ÿä¸€ä¸ªæ–°çš„æäº¤ï¼Œå½“ç„¶å®ƒä»¬çš„å“ˆå¸Œå€¼ä¼šä¸ä¸€æ ·ã€‚

ä¸¾ä¾‹æ¥è¯´ï¼Œä»£ç ä»“åº“æœ‰`master`å’Œ`feature`ä¸¤ä¸ªåˆ†æ”¯ã€‚

 ```bash
     a - b - c - d   Master
          \
            e - f - g Feature
 ```

ç°åœ¨å°†æäº¤`f`åº”ç”¨åˆ°`master`åˆ†æ”¯ã€‚

 ```bash
 # åˆ‡æ¢åˆ° master åˆ†æ”¯
 $ git checkout master
 
 # Cherry pick æ“ä½œ
 $ git cherry-pick f
 ```

ä¸Šé¢çš„æ“ä½œå®Œæˆä»¥åï¼Œä»£ç åº“å°±å˜æˆäº†ä¸‹é¢çš„æ ·å­ã€‚

 ```bash
     a - b - c - d - f   Master
          \
            e - f - g Feature
 ```

ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œ`master`åˆ†æ”¯çš„æœ«å°¾å¢åŠ äº†ä¸€ä¸ªæäº¤`f`ã€‚

`git cherry-pick`å‘½ä»¤çš„å‚æ•°ï¼Œä¸ä¸€å®šæ˜¯æäº¤çš„å“ˆå¸Œå€¼ï¼Œåˆ†æ”¯åä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¡¨ç¤ºè½¬ç§»è¯¥åˆ†æ”¯çš„æœ€æ–°æäº¤ã€‚

 ```bash
 $ git cherry-pick feature
 ```

ä¸Šé¢ä»£ç è¡¨ç¤ºå°†`feature`åˆ†æ”¯çš„æœ€è¿‘ä¸€æ¬¡æäº¤ï¼Œè½¬ç§»åˆ°å½“å‰åˆ†æ”¯ã€‚



- **è½¬ç§»å¤šä¸ªæäº¤**

Cherry pick æ”¯æŒä¸€æ¬¡è½¬ç§»å¤šä¸ªæäº¤ã€‚

 ```bash
 $ git cherry-pick <HashA> <HashB>
 ```

ä¸Šé¢çš„å‘½ä»¤å°† A å’Œ B ä¸¤ä¸ªæäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯ã€‚è¿™ä¼šåœ¨å½“å‰åˆ†æ”¯ç”Ÿæˆä¸¤ä¸ªå¯¹åº”çš„æ–°æäº¤ã€‚

å¦‚æœæƒ³è¦è½¬ç§»ä¸€ç³»åˆ—çš„è¿ç»­æäº¤ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ç®€ä¾¿è¯­æ³•ã€‚

 ```bash
 $ git cherry-pick A..B 
 ```

ä¸Šé¢çš„å‘½ä»¤å¯ä»¥è½¬ç§»ä» A åˆ° B çš„æ‰€æœ‰æäº¤ã€‚å®ƒä»¬å¿…é¡»æŒ‰ç…§æ­£ç¡®çš„é¡ºåºæ”¾ç½®ï¼šæäº¤ A å¿…é¡»æ—©äºæäº¤ Bï¼Œå¦åˆ™å‘½ä»¤å°†å¤±è´¥ï¼Œä½†ä¸ä¼šæŠ¥é”™ã€‚

æ³¨æ„ï¼Œä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ï¼Œæäº¤ A å°†ä¸ä¼šåŒ…å«åœ¨ Cherry pick ä¸­ã€‚å¦‚æœè¦åŒ…å«æäº¤ Aï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•ã€‚

 ```bash
 $ git cherry-pick A^..B 
 ```

`JavaPubè¯´ï¼šgit cherry-pick æ˜¯éå¸¸é‡è¦ä¸”éå¸¸å®ç”¨çš„ä¸€ä¸ªå‘½ä»¤ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šè¦ç‚¹ï¼Œä¸‹ç¯‡å•ç‹¬å†™ä¸€ç¯‡å›¾è§£ã€‚`

å‚è€ƒï¼š

https://blog.csdn.net/FightFightFight/article/details/81039050

http://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html

---

---

## æ¡ˆä¾‹4ï¼ˆgit resetï¼‰

å†™å®Œä»£ç åï¼Œæˆ‘ä»¬ä¸€èˆ¬è¿™æ ·

> git add . //æ·»åŠ æ‰€æœ‰æ–‡ä»¶

> git commit -m "æœ¬åŠŸèƒ½å…¨éƒ¨å®Œæˆ"


æ‰§è¡Œå®Œcommitåï¼Œæƒ³æ’¤å›commitï¼Œæ€ä¹ˆåŠï¼Ÿ

 

è¿™æ ·ï¼š

> git reset --soft HEAD^



è¿™æ ·å°±æˆåŠŸçš„æ’¤é”€äº†ä½ çš„ commit

æ³¨æ„ï¼Œä»…ä»…æ˜¯æ’¤å› commit æ“ä½œï¼Œæ‚¨å†™çš„ä»£ç ä»ç„¶ä¿ç•™ã€‚



`HEAD^`çš„æ„æ€æ˜¯ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥å†™æˆ `HEAD~1`

å¦‚æœä½ è¿›è¡Œäº†2æ¬¡ commitï¼Œæƒ³éƒ½æ’¤å›ï¼Œå¯ä»¥ä½¿ç”¨ `HEAD~2`

 

**å‡ ä¸ªå‚æ•°ï¼š**

> --mixed 

æ„æ€æ˜¯ï¼šä¸åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€ commitï¼Œå¹¶ä¸”æ’¤é”€ `git add .` æ“ä½œ
è¿™ä¸ªä¸ºé»˜è®¤å‚æ•°ï¼Œ`git reset --mixed HEAD^` å’Œ `git reset HEAD^` æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚

> --soft 

ä¸åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€ commitï¼Œä¸æ’¤é”€ `git add . `

> --hard

åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€ commitï¼Œæ’¤é”€ `git add . `

æ³¨æ„å®Œæˆè¿™ä¸ªæ“ä½œåï¼Œå°±æ¢å¤åˆ°äº†ä¸Šä¸€æ¬¡çš„ commit çŠ¶æ€ã€‚



```bash
é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¦‚æœ commit æ³¨é‡Šå†™é”™äº†ï¼Œåªæ˜¯æƒ³æ”¹ä¸€ä¸‹æ³¨é‡Šï¼Œåªéœ€è¦ï¼š
git commit --amend

æ­¤æ—¶ä¼šè¿›å…¥é»˜è®¤ vimç¼–è¾‘å™¨ï¼Œä¿®æ”¹æ³¨é‡Šå®Œæ¯•åä¿å­˜å°±å¥½äº†ã€‚
```

---

---

## æ¡ˆä¾‹5ï¼ˆgit fetchï¼‰

æåˆ° `git fetch` ä¸»è¦å·²é€šè¿‡å’Œ `git pull` æ¥åšåŒºåˆ«ã€‚

ä¸€å›¾é¡¶åƒæ–‡

![gitæµç¨‹å›¾](https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F06%2F15%2F20240615-091903.png)

ç®€å•æ¥è¯´ï¼šgit pull = git fetch + git merge



---

---

å‚è€ƒï¼š

https://blog.csdn.net/yao_94/article/details/88929992

https://www.cnblogs.com/zndxall/archive/2018/09/04/9586088.html

https://blog.csdn.net/FightFightFight/article/details/81039050

http://www.ruanyifeng.com/blog/2020/04/git-cherry-pick.html


