import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as a,e as n}from"./app-CLNT8eiP.js";const l={},e=n(`<h1 id="hbase入门教程" tabindex="-1"><a class="header-anchor" href="#hbase入门教程"><span>HBase入门教程</span></a></h1><p>HBase是一个开源的、分布式的、版本化的非关系型数据库，是Apache Hadoop生态系统的重要组成部分。本文将全面介绍HBase的基础知识，帮助你快速入门。</p><h2 id="_1-hbase简介" tabindex="-1"><a class="header-anchor" href="#_1-hbase简介"><span>1. HBase简介</span></a></h2><h3 id="_1-1-什么是hbase" tabindex="-1"><a class="header-anchor" href="#_1-1-什么是hbase"><span>1.1 什么是HBase？</span></a></h3><p>HBase是建立在HDFS（Hadoop分布式文件系统）之上的分布式、面向列的数据库。它是Google Bigtable的开源实现，适合存储非结构化和半结构化的松散数据。</p><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281433210.jpg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="_1-2-hbase核心特点" tabindex="-1"><a class="header-anchor" href="#_1-2-hbase核心特点"><span>1.2 HBase核心特点</span></a></h3><ol><li><p><strong>海量存储</strong></p><ul><li>支持数十亿行 × 数百万列的数据规模</li><li>单表可以存储数十亿行数据</li><li>无需预定义列的数量和类型</li></ul></li><li><p><strong>列式存储</strong></p><ul><li>数据按列族存储</li><li>支持动态列</li><li>自动分片</li></ul></li><li><p><strong>高可用性</strong></p><ul><li>底层依托HDFS提供高可用性</li><li>支持RegionServer之间的故障转移</li><li>支持Master的高可用配置</li></ul></li><li><p><strong>线性扩展</strong></p><ul><li>可以通过增加RegionServer实现扩展</li><li>自动数据分片</li><li>负载均衡</li></ul></li><li><p><strong>实时性</strong></p><ul><li>支持实时读写</li><li>毫秒级延迟</li><li>随机访问</li></ul></li></ol><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281435901.jpg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="_2-hbase-vs-传统关系型数据库" tabindex="-1"><a class="header-anchor" href="#_2-hbase-vs-传统关系型数据库"><span>2. HBase vs 传统关系型数据库</span></a></h2><table><thead><tr><th>特性</th><th>HBase</th><th>关系型数据库</th></tr></thead><tbody><tr><td>数据模型</td><td>列族模型</td><td>关系模型</td></tr><tr><td>数据规模</td><td>PB级别</td><td>GB/TB级别</td></tr><tr><td>数据类型</td><td>Bytes</td><td>丰富的数据类型</td></tr><tr><td>事务支持</td><td>单行事务</td><td>完整ACID事务</td></tr><tr><td>索引支持</td><td>主键索引</td><td>支持多种索引</td></tr><tr><td>查询方式</td><td>Get/Scan/Put</td><td>SQL</td></tr><tr><td>扩展方式</td><td>水平扩展</td><td>垂直扩展为主</td></tr></tbody></table><h2 id="_3-docker环境搭建" tabindex="-1"><a class="header-anchor" href="#_3-docker环境搭建"><span>3. Docker环境搭建</span></a></h2><h3 id="_3-1-单节点安装" tabindex="-1"><a class="header-anchor" href="#_3-1-单节点安装"><span>3.1 单节点安装</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 拉取镜像</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> harisekhon/hbase</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 启动容器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    --name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hbase-standalone</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 2181:2181</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 8080:8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 8085:8085</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 9090:9090</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 16000:16000</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 16010:16010</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">    -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 16020:16020</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    harisekhon/hbase</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281431543.png" alt="下载镜像" tabindex="0" loading="lazy"><figcaption>下载镜像</figcaption></figure><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281435909.png" alt="image-20250328143540665" tabindex="0" loading="lazy"><figcaption>image-20250328143540665</figcaption></figure><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281435399.png" alt="image-20250328143558166" tabindex="0" loading="lazy"><figcaption>image-20250328143558166</figcaption></figure><h3 id="_3-2-验证安装" tabindex="-1"><a class="header-anchor" href="#_3-2-验证安装"><span>3.2 验证安装</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 进入容器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hbase-standalone</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 启动HBase Shell</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">hbase</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> shell</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 验证状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">status</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-mac本地安装hbase" tabindex="-1"><a class="header-anchor" href="#_3-3-mac本地安装hbase"><span>3.3 Mac本地安装HBase</span></a></h3><p>除了使用Docker安装，我们还可以直接在Mac本地安装HBase。以下是详细步骤：</p><h4 id="_3-3-1-前置条件" tabindex="-1"><a class="header-anchor" href="#_3-3-1-前置条件"><span>3.3.1 前置条件</span></a></h4><ol><li><strong>安装Homebrew</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 检查是否已安装Homebrew</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 如果未安装，执行以下命令安装Homebrew</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">/bin/bash</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>确保Java环境</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 检查Java版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 如果未安装Java，使用Homebrew安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> java</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 配置Java环境变量（根据实际安装路径调整）</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;export JAVA_HOME=$(/usr/libexec/java_home)&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ~/.zshrc</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ~/.zshrc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-2-安装hbase" tabindex="-1"><a class="header-anchor" href="#_3-3-2-安装hbase"><span>3.3.2 安装HBase</span></a></h4><ol><li><strong>使用Homebrew安装HBase</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hbase</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281511772.png" alt="image-20250328151130394" tabindex="0" loading="lazy"><figcaption>image-20250328151130394</figcaption></figure><ol start="2"><li><strong>配置HBase</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># HBase配置文件位置</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /opt/homebrew/Cellar/hbase/2.6.2/libexec/conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 编辑hbase-site.xml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hbase-site.xml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置文件内容：（配置一般是存在的，不用动）</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;hbase.rootdir&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;file:///opt/homebrew/var/hbase&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;hbase.zookeeper.property.dataDir&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;/opt/homebrew/var/zookeeper&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;hbase.zookeeper.property.clientPort&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;2181&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;hbase.zookeeper.quorum&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;localhost&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">property</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">configuration</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-3-启动和停止hbase" tabindex="-1"><a class="header-anchor" href="#_3-3-3-启动和停止hbase"><span>3.3.3 启动和停止HBase</span></a></h4><ol><li><strong>启动HBase</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 使用Homebrew服务启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hbase</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 或者直接启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">/opt/homebrew/opt/hbase/bin/start-hbase.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>停止HBase</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 使用Homebrew服务停止</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> hbase</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 或者直接停止</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">/opt/homebrew/opt/hbase/bin/stop-hbase.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281516573.png" alt="image-20250328151654390" tabindex="0" loading="lazy"><figcaption>image-20250328151654390</figcaption></figure><h4 id="_3-3-4-验证安装" tabindex="-1"><a class="header-anchor" href="#_3-3-4-验证安装"><span>3.3.4 验证安装</span></a></h4><ol><li><strong>启动HBase Shell</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">hbase</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> shell</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li><strong>测试基本命令</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查看状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">status</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查看版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查看所有表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281517594.png" alt="image-20250328151752597" tabindex="0" loading="lazy"><figcaption>image-20250328151752597</figcaption></figure><h4 id="_3-3-5-常见问题解决" tabindex="-1"><a class="header-anchor" href="#_3-3-5-常见问题解决"><span>3.3.5 常见问题解决</span></a></h4><ol><li><strong>如果启动HBase Shell时卡住</strong></li></ol><ul><li>检查HBase服务状态：<code>brew services list | grep hbase</code></li><li>重启HBase服务：<code>brew services restart hbase</code></li><li>检查日志：<code>tail -f /opt/homebrew/var/log/hbase/hbase.log</code></li></ul><ol start="2"><li><strong>端口冲突问题</strong></li></ol><ul><li>检查端口占用：<code>lsof -i:2181</code>（ZooKeeper端口）</li><li>检查端口占用：<code>lsof -i:16000</code>（HBase Master端口）</li><li>修改配置文件中的端口设置</li></ul><ol start="3"><li><strong>内存配置</strong></li></ol><ul><li>编辑<code>/opt/homebrew/opt/hbase/libexec/conf/hbase-env.sh</code></li><li>调整内存设置：<code>export HBASE_HEAPSIZE=4G</code></li></ul><h4 id="_3-3-6-开发工具集成" tabindex="-1"><a class="header-anchor" href="#_3-3-6-开发工具集成"><span>3.3.6 开发工具集成</span></a></h4><ol><li><strong>Java API使用</strong></li></ol><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">&lt;!-- Maven依赖 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;org.apache.hbase&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;hbase-client&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;2.4.12&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>REST API访问</strong></li></ol><ul><li>HBase REST服务默认端口：8080</li><li>启动REST服务：<code>/opt/homebrew/opt/hbase/bin/hbase rest start</code></li><li>访问测试：<code>curl http://localhost:8080/version/cluster</code></li></ul><h2 id="_4-hbase数据模型" tabindex="-1"><a class="header-anchor" href="#_4-hbase数据模型"><span>4. HBase数据模型</span></a></h2><h3 id="_4-1-核心概念" tabindex="-1"><a class="header-anchor" href="#_4-1-核心概念"><span>4.1 核心概念</span></a></h3><ol><li><p><strong>表（Table）</strong></p><ul><li>HBase中数据的逻辑存储单元</li><li>表由行和列组成</li></ul></li><li><p><strong>行键（Row Key）</strong></p><ul><li>每行数据的唯一标识</li><li>按字典顺序排序</li><li>所有操作都基于行键</li></ul></li><li><p><strong>列族（Column Family）</strong></p><ul><li>表在物理上分割的单元</li><li>必须在创建表时定义</li><li>同一列族的数据存储在一起</li></ul></li><li><p><strong>列限定符（Column Qualifier）</strong></p><ul><li>列族中的具体列</li><li>可以动态添加</li><li>格式：列族:列限定符</li></ul></li><li><p><strong>单元格（Cell）</strong></p><ul><li>由行键、列族、列限定符和时间戳唯一确定</li><li>存储具体的数据值</li></ul></li><li><p><strong>时间戳（Timestamp）</strong></p><ul><li>每个单元格的版本号</li><li>默认为写入时的系统时间</li></ul></li></ol><h3 id="_4-2-数据模型示例" tabindex="-1"><a class="header-anchor" href="#_4-2-数据模型示例"><span>4.2 数据模型示例</span></a></h3><p>让我们通过一个用户信息表的例子来理解HBase的数据模型：</p><ol><li><strong>表的基本结构</strong></li></ol><ul><li>表名：<code>user_table</code></li><li>包含两个列族：<code>info</code>和<code>address</code></li><li><code>info</code>列族存储基本信息（姓名、年龄、性别）</li><li><code>address</code>列族存储地址信息（城市、国家）</li></ul><ol start="2"><li><strong>数据存储示例</strong></li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>表名: user_table</span></span>
<span class="line"><span></span></span>
<span class="line"><span>┌──────────┬───────────────────────────┬────────────────────┐</span></span>
<span class="line"><span>│  Row Key │     Column Family: info   │ Column Family: add │</span></span>
<span class="line"><span>├──────────┼───────┬───────┬──────────┼─────────┬──────────┤</span></span>
<span class="line"><span>│          │ name  │ age   │ gender   │ city    │ country  │</span></span>
<span class="line"><span>├──────────┼───────┼───────┼──────────┼─────────┼──────────┤</span></span>
<span class="line"><span>│ user1    │ Tom   │ 25    │ male     │ Beijing │ China    │</span></span>
<span class="line"><span>│ user2    │ Jerry │ 30    │ female   │ Shanghai│ China    │</span></span>
<span class="line"><span>└──────────┴───────┴───────┴──────────┴─────────┴──────────┘</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>数据访问方式</strong></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 获取user1的所有信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 获取user1的name信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info:name&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 获取user1的城市信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;address:city&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li><strong>数据模型解析</strong></li></ol><ul><li><strong>Row Key（行键）</strong>: &#39;user1&#39;, &#39;user2&#39; 是每行数据的唯一标识</li><li><strong>Column Family（列族）</strong>: <ul><li>&#39;info&#39;: 存储个人基本信息</li><li>&#39;address&#39;: 存储地址相关信息</li></ul></li><li><strong>Column Qualifier（列限定符）</strong>: <ul><li>info列族下有：name, age, gender</li><li>address列族下有：city, country</li></ul></li><li><strong>Cell（单元格）</strong>: 每个具体的值 <ul><li>例如：&#39;Tom&#39;是row key为&#39;user1&#39;，列族&#39;info&#39;下的&#39;name&#39;列的值</li></ul></li></ul><ol start="5"><li><strong>实际存储格式</strong></li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>Key                              Value</span></span>
<span class="line"><span>user1:info:name                 Tom</span></span>
<span class="line"><span>user1:info:age                  25</span></span>
<span class="line"><span>user1:info:gender              male</span></span>
<span class="line"><span>user1:address:city             Beijing</span></span>
<span class="line"><span>user1:address:country          China</span></span>
<span class="line"><span>user2:info:name                Jerry</span></span>
<span class="line"><span>user2:info:age                 30</span></span>
<span class="line"><span>user2:info:gender              female</span></span>
<span class="line"><span>user2:address:city             Shanghai</span></span>
<span class="line"><span>user2:address:country          China</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种结构的优势：</p><ol><li>可以轻松添加新的列，不影响现有数据</li><li>不同行可以有不同的列</li><li>按列族物理存储，适合针对特定列族的查询</li><li>支持数据多版本（每个Cell可以有多个时间戳的值）</li></ol><h2 id="_5-基本操作命令" tabindex="-1"><a class="header-anchor" href="#_5-基本操作命令"><span>5. 基本操作命令</span></a></h2><h3 id="_5-1-表操作" tabindex="-1"><a class="header-anchor" href="#_5-1-表操作"><span>5.1 表操作</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 创建表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;address&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 列出所有表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 描述表结构</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">describe</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 禁用表（在删除表之前必须先禁用）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">disable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 删除表（只能删除已经禁用的表）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">drop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 如果需要重新启用表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">enable</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 常见错误处理：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 如果直接尝试删除启用状态的表，会得到错误：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># ERROR: Table user_table is enabled. Disable it first.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 解决方法：先运行 disable &#39;user_table&#39;，然后再运行 drop &#39;user_table&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281519344.png" alt="image-20250328151948994" tabindex="0" loading="lazy"><figcaption>image-20250328151948994</figcaption></figure><h3 id="_5-2-数据操作" tabindex="-1"><a class="header-anchor" href="#_5-2-数据操作"><span>5.2 数据操作</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 插入数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info:name&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Tom&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info:age&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;25&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;address:city&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Beijing&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查询操作：get vs scan</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 1. get：获取单行数据（精确查询）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                    # 获取整行数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info:name&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">       # 获取特定列数据</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 2. scan：扫描表数据（范围查询）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                            # 扫描整个表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {LIMIT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">             # 只扫描10行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {STARTROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;}</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     # 从user1开始扫描</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {STARTROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> STOPROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user2&#39;}</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> # 扫描指定范围</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># get和scan的主要区别：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># - get：类似于关系数据库的主键查询，直接定位到特定行，性能较好</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># - scan：类似于关系数据库的表扫描，可以扫描整表或指定范围的数据，可以添加过滤条件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 删除数据</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">delete</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info:age&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">     # 删除特定列</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">deleteall</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">              # 删除整行</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-查询性能比较" tabindex="-1"><a class="header-anchor" href="#_5-3-查询性能比较"><span>5.3 查询性能比较</span></a></h3><ol><li><p><strong>get 查询</strong></p><ul><li>适用场景：知道确切的行键，需要获取特定行的数据</li><li>性能特点：直接定位到行，速度快</li><li>使用方式：支持单行查询和特定列的查询</li><li>类似于：MySQL中的主键查询</li></ul></li><li><p><strong>scan 查询</strong></p><ul><li>适用场景：需要范围查询或满足特定条件的数据</li><li>性能特点：需要扫描多行数据，相对较慢</li><li>使用方式：支持全表扫描、范围扫描、条件过滤</li><li>类似于：MySQL中的表扫描或范围查询</li></ul></li><li><p><strong>scan 限制说明</strong></p><ul><li><strong>默认限制</strong>：无行数限制，但建议不要一次扫描太多数据</li><li><strong>性能影响</strong>：数据量太大会影响查询性能和服务器负载</li><li><strong>内存消耗</strong>：大量数据会占用大量内存</li><li><strong>网络带宽</strong>：返回大量数据会占用大量网络带宽</li></ul></li><li><p><strong>scan 控制方法</strong></p></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 使用LIMIT限制返回行数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {LIMIT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1000</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 只返回1000行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 使用STARTROW和STOPROW限制范围</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {STARTROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> STOPROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user2&#39;}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 使用TIMERANGE限制时间范围</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {TIMERANGE</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [1588089600000, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">1588176000000]}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 使用FILTER限制结果</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {FILTER</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ColumnPrefixFilter(&#39;name&#39;)&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 批量大小控制（每次RPC调用返回的行数）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {LIMIT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1000,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> BATCH</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">}</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 每次返回100行，总共返回1000行</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li><p><strong>scan 最佳实践</strong></p><ul><li>建议使用LIMIT限制返回行数</li><li>尽量使用STARTROW和STOPROW限定范围</li><li>只获取需要的列（COLUMNS参数）</li><li>合理设置批量大小（BATCH参数）</li><li>添加适当的过滤条件</li><li>避免全表扫描</li></ul></li><li><p><strong>scan 性能优化示例</strong></p></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 优化前（不推荐）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 全表扫描</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 优化后（推荐）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STARTROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user1&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STOPROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user2&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  COLUMNS</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;info:name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;info:age&#39;],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  FILTER</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;ValueFilter(=, &#39;binary:Tom&#39;)&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  LIMIT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> 1000,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  BATCH</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 100</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-应用场景" tabindex="-1"><a class="header-anchor" href="#_6-应用场景"><span>6. 应用场景</span></a></h2><ol><li><p><strong>大数据存储场景</strong></p><ul><li>日志数据存储</li><li>物联网数据</li><li>时序数据</li></ul></li><li><p><strong>实时读写场景</strong></p><ul><li>实时推荐系统</li><li>实时计数器</li><li>消息系统</li></ul></li><li><p><strong>海量数据检索</strong></p><ul><li>电商商品数据</li><li>用户行为分析</li><li>社交数据存储</li></ul></li></ol><h2 id="_7-性能优化建议" tabindex="-1"><a class="header-anchor" href="#_7-性能优化建议"><span>7. 性能优化建议</span></a></h2><ol><li><p><strong>行键设计优化</strong></p><ul><li>避免热点问题</li><li>保持行键长度适中</li><li>根据查询模式设计</li></ul></li><li><p><strong>预分区</strong></p><ul><li>合理的分区策略</li><li>避免数据倾斜</li><li>提高写入性能</li></ul></li><li><p><strong>列族设计</strong></p><ul><li>控制列族数量（建议1-3个）</li><li>相关数据放在同一列族</li><li>合理设置存储参数</li></ul></li><li><p><strong>内存优化</strong></p><ul><li>合理设置RegionServer内存</li><li>优化BlockCache配置</li><li>监控GC情况</li></ul></li></ol><h2 id="_8-最佳实践" tabindex="-1"><a class="header-anchor" href="#_8-最佳实践"><span>8. 最佳实践</span></a></h2><ol><li><strong>数据建模</strong><ul><li>根据查询模式设计表</li><li>避免过多列族</li><li>合理使用复合行键</li></ul></li></ol><h3 id="_8-1-数据建模实战案例" tabindex="-1"><a class="header-anchor" href="#_8-1-数据建模实战案例"><span>8.1 数据建模实战案例</span></a></h3><h4 id="_8-1-1-电商订单系统" tabindex="-1"><a class="header-anchor" href="#_8-1-1-电商订单系统"><span>8.1.1 电商订单系统</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 不好的设计：使用随机订单ID作为行键</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 问题：无法高效查询某用户的订单</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;order_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;order_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;123456&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info:user_id&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;order_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;123456&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info:create_time&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;2024-03-28&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 好的设计：复合行键（用户ID + 时间 + 订单ID）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Row Key: userId_yearMonth_orderId</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;order_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;order_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_202403_000123&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info:status&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;paid&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;order_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_202403_000124&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;info:amount&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;99.99&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查询某用户3月的订单</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;order_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STARTROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_202403&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STOPROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_202404&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-1-2-日志系统" tabindex="-1"><a class="header-anchor" href="#_8-1-2-日志系统"><span>8.1.2 日志系统</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Row Key: type_date_time_logId</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;log_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;content&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 写入不同类型的日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;log_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;ERROR_20240328101010_001&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;content:message&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Connection failed&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;log_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;INFO_20240328101020_002&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;content:message&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Server started&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查询某天的错误日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;log_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STARTROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;ERROR_20240328&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STOPROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;ERROR_20240329&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-1-3-社交媒体消息系统" tabindex="-1"><a class="header-anchor" href="#_8-1-3-社交媒体消息系统"><span>8.1.3 社交媒体消息系统</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 设计1：按时间查询</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Row Key: timestamp_fromUser_toUser</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;message_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;content&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;message_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;20240328101010_user001_user002&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;content:text&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Hello!&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 设计2：按用户关系查询</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Row Key: fromUser_toUser_timestamp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;message_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;content&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;message_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_user002_20240328101010&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;content:text&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;Hello!&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查询用户间的聊天记录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;message_table&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STARTROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_user002&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STOPROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_user002_9999999999&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-1-4-用户行为分析系统" tabindex="-1"><a class="header-anchor" href="#_8-1-4-用户行为分析系统"><span>8.1.4 用户行为分析系统</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># Row Key: userId_behavior_timestamp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">create</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_behavior&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;action&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 记录用户行为</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_behavior&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_click_20240328101010&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;action:page&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;home&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_behavior&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_view_20240328101020&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;action:product&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;phone&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_behavior&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_buy_20240328101030&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;action:product&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;phone&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查询用户的所有行为</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user_behavior&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STARTROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_&#39;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">  STOPROW</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;user001_z&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-2-数据建模最佳实践" tabindex="-1"><a class="header-anchor" href="#_8-2-数据建模最佳实践"><span>8.2 数据建模最佳实践</span></a></h3><ol><li><p><strong>行键设计原则</strong></p><ul><li><strong>热点数据分散</strong>：避免所有请求都访问同一个区域</li><li><strong>相关数据聚集</strong>：便于范围查询</li><li><strong>长度适中</strong>：不要太长，建议在100字节以内</li></ul></li><li><p><strong>列族使用原则</strong></p><ul><li><strong>保持列族数量少</strong>：建议2-3个</li><li><strong>相关数据聚合</strong>：经常一起访问的数据放在同一列族</li><li><strong>访问频率分离</strong>：不同访问频率的数据放在不同列族</li></ul></li><li><p><strong>实用技巧</strong></p></li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 1. 使用分隔符区分行键各部分</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">user001:202403:order123</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 使用冒号分隔</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 2. 使用补零保证字典序</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">user001:20240328:00000123</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 订单号补零</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 3. 使用时间戳的反转值使最新数据排在前面</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">user001:99999999999-timestamp</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 最新数据会排在前面</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li><strong>设计注意事项</strong><ul><li>根据实际查询需求设计行键</li><li>避免使用过长的行键</li><li>合理使用时间戳</li><li>预估数据增长趋势</li><li>考虑数据分布的均衡性</li></ul></li></ol><h2 id="参考资源" tabindex="-1"><a class="header-anchor" href="#参考资源"><span>参考资源</span></a></h2><ul><li><a href="https://hbase.apache.org/book.html" target="_blank" rel="noopener noreferrer">Apache HBase官方文档</a></li><li><a href="https://book.douban.com/subject/10748460/" target="_blank" rel="noopener noreferrer">HBase权威指南</a></li><li><a href="https://hbase.apache.org/book.html#architecture" target="_blank" rel="noopener noreferrer">Apache HBase参考指南</a></li></ul><h2 id="结语" tabindex="-1"><a class="header-anchor" href="#结语"><span>结语</span></a></h2><p>HBase作为一个强大的分布式数据库系统，在大数据生态系统中扮演着重要角色。通过本文的学习，你应该已经掌握了HBase的基础知识和使用方法。建议在实践中多加练习，逐步深入理解HBase的各项特性。</p><blockquote><p>原文： https://javapub.net.cn/posts/database/</p></blockquote>`,110),t=[e];function h(k,p){return a(),s("div",null,t)}const g=i(l,[["render",h],["__file","hbase_intro.html.vue"]]),c=JSON.parse('{"path":"/posts/database/hbase/hbase_intro.html","title":"HBase一篇入门","lang":"zh-CN","frontmatter":{"title":"HBase一篇入门","icon":"file","author":"Ms.Wang","date":"2025-03-28T00:00:00.000Z","sticky":true,"star":false,"category":["hbase"],"tag":["hbase"],"description":"HBase入门教程 HBase是一个开源的、分布式的、版本化的非关系型数据库，是Apache Hadoop生态系统的重要组成部分。本文将全面介绍HBase的基础知识，帮助你快速入门。 1. HBase简介 1.1 什么是HBase？ HBase是建立在HDFS（Hadoop分布式文件系统）之上的分布式、面向列的数据库。它是Google Bigtable...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/posts/database/hbase/hbase_intro.html"}],["meta",{"property":"og:site_name","content":"JavaPub"}],["meta",{"property":"og:title","content":"HBase一篇入门"}],["meta",{"property":"og:description","content":"HBase入门教程 HBase是一个开源的、分布式的、版本化的非关系型数据库，是Apache Hadoop生态系统的重要组成部分。本文将全面介绍HBase的基础知识，帮助你快速入门。 1. HBase简介 1.1 什么是HBase？ HBase是建立在HDFS（Hadoop分布式文件系统）之上的分布式、面向列的数据库。它是Google Bigtable..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281433210.jpg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-28T08:02:20.000Z"}],["meta",{"property":"article:author","content":"Ms.Wang"}],["meta",{"property":"article:tag","content":"hbase"}],["meta",{"property":"article:published_time","content":"2025-03-28T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-28T08:02:20.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"HBase一篇入门\\",\\"image\\":[\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281433210.jpg\\",\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281435901.jpg\\",\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281431543.png\\",\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281435909.png\\",\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281435399.png\\",\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281511772.png\\",\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281516573.png\\",\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281517594.png\\",\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281519344.png\\"],\\"datePublished\\":\\"2025-03-28T00:00:00.000Z\\",\\"dateModified\\":\\"2025-03-28T08:02:20.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ms.Wang\\"}]}"]]},"headers":[{"level":2,"title":"1. HBase简介","slug":"_1-hbase简介","link":"#_1-hbase简介","children":[{"level":3,"title":"1.1 什么是HBase？","slug":"_1-1-什么是hbase","link":"#_1-1-什么是hbase","children":[]},{"level":3,"title":"1.2 HBase核心特点","slug":"_1-2-hbase核心特点","link":"#_1-2-hbase核心特点","children":[]}]},{"level":2,"title":"2. HBase vs 传统关系型数据库","slug":"_2-hbase-vs-传统关系型数据库","link":"#_2-hbase-vs-传统关系型数据库","children":[]},{"level":2,"title":"3. Docker环境搭建","slug":"_3-docker环境搭建","link":"#_3-docker环境搭建","children":[{"level":3,"title":"3.1 单节点安装","slug":"_3-1-单节点安装","link":"#_3-1-单节点安装","children":[]},{"level":3,"title":"3.2 验证安装","slug":"_3-2-验证安装","link":"#_3-2-验证安装","children":[]},{"level":3,"title":"3.3 Mac本地安装HBase","slug":"_3-3-mac本地安装hbase","link":"#_3-3-mac本地安装hbase","children":[]}]},{"level":2,"title":"4. HBase数据模型","slug":"_4-hbase数据模型","link":"#_4-hbase数据模型","children":[{"level":3,"title":"4.1 核心概念","slug":"_4-1-核心概念","link":"#_4-1-核心概念","children":[]},{"level":3,"title":"4.2 数据模型示例","slug":"_4-2-数据模型示例","link":"#_4-2-数据模型示例","children":[]}]},{"level":2,"title":"5. 基本操作命令","slug":"_5-基本操作命令","link":"#_5-基本操作命令","children":[{"level":3,"title":"5.1 表操作","slug":"_5-1-表操作","link":"#_5-1-表操作","children":[]},{"level":3,"title":"5.2 数据操作","slug":"_5-2-数据操作","link":"#_5-2-数据操作","children":[]},{"level":3,"title":"5.3 查询性能比较","slug":"_5-3-查询性能比较","link":"#_5-3-查询性能比较","children":[]}]},{"level":2,"title":"6. 应用场景","slug":"_6-应用场景","link":"#_6-应用场景","children":[]},{"level":2,"title":"7. 性能优化建议","slug":"_7-性能优化建议","link":"#_7-性能优化建议","children":[]},{"level":2,"title":"8. 最佳实践","slug":"_8-最佳实践","link":"#_8-最佳实践","children":[{"level":3,"title":"8.1 数据建模实战案例","slug":"_8-1-数据建模实战案例","link":"#_8-1-数据建模实战案例","children":[]},{"level":3,"title":"8.2 数据建模最佳实践","slug":"_8-2-数据建模最佳实践","link":"#_8-2-数据建模最佳实践","children":[]}]},{"level":2,"title":"参考资源","slug":"参考资源","link":"#参考资源","children":[]},{"level":2,"title":"结语","slug":"结语","link":"#结语","children":[]}],"git":{"createdTime":1743148853000,"updatedTime":1743148940000,"contributors":[{"name":"javapub","email":"iswangshiyu@foxmail.com","commits":2}]},"readingTime":{"minutes":10.75,"words":3225},"filePathRelative":"posts/database/hbase/hbase_intro.md","localizedDate":"2025年3月28日","excerpt":"\\n<p>HBase是一个开源的、分布式的、版本化的非关系型数据库，是Apache Hadoop生态系统的重要组成部分。本文将全面介绍HBase的基础知识，帮助你快速入门。</p>\\n<h2>1. HBase简介</h2>\\n<h3>1.1 什么是HBase？</h3>\\n<p>HBase是建立在HDFS（Hadoop分布式文件系统）之上的分布式、面向列的数据库。它是Google Bigtable的开源实现，适合存储非结构化和半结构化的松散数据。</p>\\n<figure><img src=\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/202503281433210.jpg\\" alt=\\"img\\" tabindex=\\"0\\" loading=\\"lazy\\"><figcaption>img</figcaption></figure>","autoDesc":true}');export{g as comp,c as data};
