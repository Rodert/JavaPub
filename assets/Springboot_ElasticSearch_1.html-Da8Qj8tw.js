import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,f as e,e as i,o as t}from"./app-D3ONNahh.js";const n={},l=i('<p>学习一个新技术，最快的掌握方式就是先学会使用，让我们有了很强的满足感，在研究底层代码。</p><p>本篇幅是继上一篇<a href="https://mp.weixin.qq.com/s/nSWEIfbpRf-4txJqRz60gQ" target="_blank" rel="noopener noreferrer">Springboot2.x整合ElasticSearch7.x实战目录</a>，适合初学 Elasticsearch 的小白，可以跟着整个教程做一个练习。</p><p><code>编者荐语：在大数据搜索中，Elasticsearch 使用频率非常高。学习 Java 了解大数据那是我们 Java 攻城狮很好的选择。</code></p><p>[toc]</p><h1 id="第一章-课程介绍" tabindex="-1"><a class="header-anchor" href="#第一章-课程介绍"><span>第一章 课程介绍</span></a></h1><h2 id="自我介绍" tabindex="-1"><a class="header-anchor" href="#自我介绍"><span>自我介绍</span></a></h2><p>大家好，我是pub哥</p><h2 id="elasticsearch-springboot-介绍" tabindex="-1"><a class="header-anchor" href="#elasticsearch-springboot-介绍"><span>ElasticSearch SpringBoot 介绍</span></a></h2><h3 id="elasticsearch" tabindex="-1"><a class="header-anchor" href="#elasticsearch"><span>ElasticSearch</span></a></h3><p>ElasticSearch 是一个开源的搜索引擎，建立在一个全文搜索引擎库 Apache Lucene™ 基础之上。 Lucene 可以说是当下最先进、高性能、全功能的搜索引擎库——无论是开源还是私有。</p><p>ElasticSearch 使用 Java 编写的，它的内部使用的是 Lucene 做索引与搜索，它的目的是使全文检索变得简单，通过隐藏 Lucene 的复杂性，取而代之提供了一套简单一致的 RESTful API。</p><p>然而，ElasticSearch 不仅仅是 Lucene，并且也不仅仅只是一个全文搜索引擎，它可以被下面这样准确地形容：</p><ol><li>一个分布式的实时文档存储，每个字段可以被索引与搜索</li><li>一个分布式近实时分析搜索引擎</li><li>能胜任上百个服务节点的扩展，并支持 PB 级别的结构化或者非结构化数据</li></ol><p>Elasticsearch 是与名为 Logstash 的数据收集和日志解析引擎以及名为 Kibana 的分析和可视化平台一起开发的。这三个产品被设计成一个集成解决方案，称为 “Elastic Stack” （以前称为“ELK stack”）。</p><h3 id="springboot" tabindex="-1"><a class="header-anchor" href="#springboot"><span>SpringBoot</span></a></h3><p>Spring Boot 是由 Pivotal 团队提供的全新框架，其设计目的是用来简化新 Spring 应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。用我的话来理解，就是 Spring Boot 其实不是什么新的框架，它默认配置了很多框架的使用方式，就像 Maven 整合了所有的 Jar 包，Spring Boot 整合了所有的框架。</p><p>简单来说，使用 Spring Boot 可以非常方便、快速搭建项目，使我们不用关心框架之间的兼容性，适用版本等各种问题，我们想使用任何东西，仅仅添加一个配置就可以，所以使用 Spring Boot 非常适合构建微服务。</p><h2 id="环境介绍" tabindex="-1"><a class="header-anchor" href="#环境介绍"><span>环境介绍</span></a></h2><p>centOS 7.3 JDK1.8 及以上 ElasticSearch 7.*</p>',19),r=i(`<h1 id="第二章-软件安装" tabindex="-1"><a class="header-anchor" href="#第二章-软件安装"><span>第二章 软件安装</span></a></h1><h2 id="服务器环境" tabindex="-1"><a class="header-anchor" href="#服务器环境"><span>服务器环境</span></a></h2><p><strong>确保你的服务器安装了 jdk1.8 或以上版本环境</strong></p><p><strong>Elasticsearch通过文件映射(mmap)来读取磁盘中的文件，这样可以比<code>read</code>系统调用少一次内存拷贝，也被称为0拷贝技术。ES映射的文件会很多，所以需要修改最大映射文件的数量，通过修改<code>vm.max_map_count</code>配置项可实现。设置方式</strong></p><blockquote><p>文件最后添加一行 vim /etc/sysctl.conf vm.max_map_count=262144</p></blockquote><p>以上几点是环境搭建的基础</p><h2 id="linux安装jdk" tabindex="-1"><a class="header-anchor" href="#linux安装jdk"><span>Linux安装JDK</span></a></h2><p>es 最小支持 jdk 版本是 jdk8</p><h2 id="linux安装es-方法和要点" tabindex="-1"><a class="header-anchor" href="#linux安装es-方法和要点"><span>Linux安装es，方法和要点</span></a></h2><p>国内版本镜像页：https://mirrors.huaweicloud.com/elasticsearch/</p><p>下载：</p><blockquote><p>wget https://mirrors.huaweicloud.com/elasticsearch/7.7.0/elasticsearch-7.7.0-linux-x86_64.tar.gz</p></blockquote><p>解压：</p><blockquote><p>tar -zxvf elasticsearch-7.7.0-linux-x86_64.tar.gz</p></blockquote><h2 id="es集群、初步配置和使用" tabindex="-1"><a class="header-anchor" href="#es集群、初步配置和使用"><span>es集群、初步配置和使用</span></a></h2><p>设置堆内存，修改 <code>jvm.options</code> ，学习阶段初学者 200m 即可，示例如下。 -Xms200m -Xmx200m</p><p>在启动前，先修改配置文件， <code>config/elasticsearch.yml</code></p><p>贴一下全部配置（ip地址是服务器对外访问地址）：</p><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">cluster.name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">my-application</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">node.name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">node01</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">node.master</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">node.data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#bootstrap.memory_lock: false</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#bootstrap.system_call_filter: false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">network.host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">http.port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">9200</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">transport.tcp.port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">9300</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">http.cors.enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">http.cors.allow-origin</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;*&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 集群发现:配置该节点会与哪些候选地址进行通信，默认端口9300，可填ip;ip+port;域名</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">discovery.seed_hosts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;39.12.1.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">cluster.initial_master_nodes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;39.12.1.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">discovery.zen.minimum_master_nodes</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#http.cors.allow-headers: Authorization</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#xpack.security.enabled: true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">#xpack.security.transport.ssl.enabled: true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="启动" tabindex="-1"><a class="header-anchor" href="#启动"><span>启动：</span></a></h3><blockquote><p>./bin/elasticsearch</p></blockquote><p>到此为止，单机版本已搭建完成。访问下面地址，可以看到我们的es版本信息。 http://ip+9200/</p><h2 id="安装使用可视化工具插件head-cerebro" tabindex="-1"><a class="header-anchor" href="#安装使用可视化工具插件head-cerebro"><span>安装使用可视化工具插件head，Cerebro</span></a></h2><p>这里只介绍 cerebro 安装</p><p>下载：</p><blockquote><p>wget https://github.com/lmenezes/cerebro/releases/download/v0.6.5/cerebro-0.6.5.tgz</p></blockquote><p>解压：</p><blockquote><p>tar zxvf cerebro-0.6.5.tgz</p></blockquote><p>启动：</p><blockquote><p>cd cerebro-0.6.5 bin/cerebro</p></blockquote><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F06%2F15%2F20240615-090923.png" alt="cerebro" tabindex="0" loading="lazy"><figcaption>cerebro</figcaption></figure><p><code>在看和分享是对我最大的鼓励，我是 pub 哥，我们下期再见</code></p><p>财经相关： 有色趋势很不错，不懂的同学建议不要交太多学费。</p>`,33);function p(h,c){return t(),a("div",null,[l,e("---"),r])}const k=s(n,[["render",p],["__file","Springboot_ElasticSearch_1.html.vue"]]),g=JSON.parse('{"path":"/posts/big_data/Elasticsearch/Springboot_ElasticSearch_1.html","title":"Springboot2.x整合ElasticSearch7.x实战（一）","lang":"zh-CN","frontmatter":{"title":"Springboot2.x整合ElasticSearch7.x实战（一）","icon":"lightbulb","author":"Wang Shiyu","date":"2022-04-21T00:00:00.000Z","category":["elasticsearch","springboot"],"tag":["elasticsearch","springboot"],"description":"学习一个新技术，最快的掌握方式就是先学会使用，让我们有了很强的满足感，在研究底层代码。 本篇幅是继上一篇Springboot2.x整合ElasticSearch7.x实战目录，适合初学 Elasticsearch 的小白，可以跟着整个教程做一个练习。 编者荐语：在大数据搜索中，Elasticsearch 使用频率非常高。学习 Java 了解大数据那是我...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/posts/big_data/Elasticsearch/Springboot_ElasticSearch_1.html"}],["meta",{"property":"og:site_name","content":"JavaPub"}],["meta",{"property":"og:title","content":"Springboot2.x整合ElasticSearch7.x实战（一）"}],["meta",{"property":"og:description","content":"学习一个新技术，最快的掌握方式就是先学会使用，让我们有了很强的满足感，在研究底层代码。 本篇幅是继上一篇Springboot2.x整合ElasticSearch7.x实战目录，适合初学 Elasticsearch 的小白，可以跟着整个教程做一个练习。 编者荐语：在大数据搜索中，Elasticsearch 使用频率非常高。学习 Java 了解大数据那是我..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F06%2F15%2F20240615-090923.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-06T13:42:36.000Z"}],["meta",{"property":"article:author","content":"Wang Shiyu"}],["meta",{"property":"article:tag","content":"elasticsearch"}],["meta",{"property":"article:tag","content":"springboot"}],["meta",{"property":"article:published_time","content":"2022-04-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-06T13:42:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Springboot2.x整合ElasticSearch7.x实战（一）\\",\\"image\\":[\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F06%2F15%2F20240615-090923.png\\"],\\"datePublished\\":\\"2022-04-21T00:00:00.000Z\\",\\"dateModified\\":\\"2024-07-06T13:42:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Wang Shiyu\\"}]}"]]},"headers":[{"level":2,"title":"自我介绍","slug":"自我介绍","link":"#自我介绍","children":[]},{"level":2,"title":"ElasticSearch SpringBoot 介绍","slug":"elasticsearch-springboot-介绍","link":"#elasticsearch-springboot-介绍","children":[{"level":3,"title":"ElasticSearch","slug":"elasticsearch","link":"#elasticsearch","children":[]},{"level":3,"title":"SpringBoot","slug":"springboot","link":"#springboot","children":[]}]},{"level":2,"title":"环境介绍","slug":"环境介绍","link":"#环境介绍","children":[]},{"level":2,"title":"服务器环境","slug":"服务器环境","link":"#服务器环境","children":[]},{"level":2,"title":"Linux安装JDK","slug":"linux安装jdk","link":"#linux安装jdk","children":[]},{"level":2,"title":"Linux安装es，方法和要点","slug":"linux安装es-方法和要点","link":"#linux安装es-方法和要点","children":[]},{"level":2,"title":"es集群、初步配置和使用","slug":"es集群、初步配置和使用","link":"#es集群、初步配置和使用","children":[{"level":3,"title":"启动：","slug":"启动","link":"#启动","children":[]}]},{"level":2,"title":"安装使用可视化工具插件head，Cerebro","slug":"安装使用可视化工具插件head-cerebro","link":"#安装使用可视化工具插件head-cerebro","children":[]}],"git":{"createdTime":1717658350000,"updatedTime":1720273356000,"contributors":[{"name":"wangshiyu","email":"iswangshiyu@foxmail.com","commits":2}]},"readingTime":{"minutes":3.79,"words":1138},"filePathRelative":"posts/big_data/Elasticsearch/Springboot_ElasticSearch_1.md","localizedDate":"2022年4月21日","excerpt":"<p>学习一个新技术，最快的掌握方式就是先学会使用，让我们有了很强的满足感，在研究底层代码。</p>\\n<p>本篇幅是继上一篇<a href=\\"https://mp.weixin.qq.com/s/nSWEIfbpRf-4txJqRz60gQ\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Springboot2.x整合ElasticSearch7.x实战目录</a>，适合初学 Elasticsearch 的小白，可以跟着整个教程做一个练习。</p>\\n<p><code>编者荐语：在大数据搜索中，Elasticsearch 使用频率非常高。学习 Java 了解大数据那是我们 Java 攻城狮很好的选择。</code></p>","autoDesc":true}');export{k as comp,g as data};
