import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,o as a,a as i,e as t}from"./app-C_7E6LVT.js";const n={},l=i("ul",null,[i("li",null,"案例源码仓库地址： https://github.com/Rodert/go-demo"),i("li",null,"官方文档： https://etcd.io/"),i("li",null,"视频教程： https://space.bilibili.com/404747369")],-1),h=i("iframe",{src:"//player.bilibili.com/player.html?isOutside=true&aid=1456119038&bvid=BV1hi421Y7rV&cid=1609010816&p=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true"},null,-1),d=t(`<h1 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍"><span>介绍</span></a></h1><p>谈使用场景之前，看看他有哪些功能</p><p>官方定义是这样的： <code>etcd is a strongly consistent, distributed key-value store that provides a reliable way to store data that needs to be accessed by a distributed system or cluster of machines. It gracefully handles leader elections during network partitions and can tolerate machine failure, even in the leader node.</code></p><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F07%2F04%2F20240704-212011.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="使用场景" tabindex="-1"><a class="header-anchor" href="#使用场景"><span>使用场景</span></a></h2><ul><li><p>服务发现</p></li><li><p>配置中心</p></li><li><p>分布式锁</p></li></ul><h1 id="安装-搭建" tabindex="-1"><a class="header-anchor" href="#安装-搭建"><span>安装&amp;搭建</span></a></h1><h2 id="搭建-etcd" tabindex="-1"><a class="header-anchor" href="#搭建-etcd"><span>搭建 ETCD</span></a></h2><p>环境： mac</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> etcd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> etcd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 检查状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> list</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> etcd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 停止</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> services</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> etcd</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 卸载</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> uninstall</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> etcd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="与-etcd-交互" tabindex="-1"><a class="header-anchor" href="#与-etcd-交互"><span>与 ETCD 交互</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 检查工具是否安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">etcdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 写入</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">etcdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> put</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mykey</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;myvalue&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 获取</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">etcdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mykey</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 删除</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">etcdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> mykey</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="集群" tabindex="-1"><a class="header-anchor" href="#集群"><span>集群</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 查看集群状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">etcdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cluster-health</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="go-etcd-编码" tabindex="-1"><a class="header-anchor" href="#go-etcd-编码"><span>Go+ETCD 编码</span></a></h1><p>安装依赖</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> go.etcd.io/etcd/client/v3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>编码</p><p>https://github.com/Rodert/go-demo</p><p>执行</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> main.go</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>执行结果：</p><figure><img src="https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F07%2F04%2F20240704-211952.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,23),r=[l,h,d];function p(c,o){return a(),e("div",null,r)}const m=s(n,[["render",p],["__file","etcd.html.vue"]]),b=JSON.parse('{"path":"/posts/other/etcd.html","title":"go整合etcd","lang":"zh-CN","frontmatter":{"title":"go整合etcd","icon":"lightbulb","author":"Wang Shiyu","date":"2022-07-06T00:00:00.000Z","category":["etcd","go"],"tag":["etcd","go"],"description":"案例源码仓库地址： https://github.com/Rodert/go-demo 官方文档： https://etcd.io/ 视频教程： https://space.bilibili.com/404747369 介绍 谈使用场景之前，看看他有哪些功能 官方定义是这样的： etcd is a strongly consistent, distri...","head":[["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/JavaPub/posts/other/etcd.html"}],["meta",{"property":"og:site_name","content":"JavaPub"}],["meta",{"property":"og:title","content":"go整合etcd"}],["meta",{"property":"og:description","content":"案例源码仓库地址： https://github.com/Rodert/go-demo 官方文档： https://etcd.io/ 视频教程： https://space.bilibili.com/404747369 介绍 谈使用场景之前，看看他有哪些功能 官方定义是这样的： etcd is a strongly consistent, distri..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F07%2F04%2F20240704-212011.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-11T01:58:07.000Z"}],["meta",{"property":"article:author","content":"Wang Shiyu"}],["meta",{"property":"article:tag","content":"etcd"}],["meta",{"property":"article:tag","content":"go"}],["meta",{"property":"article:published_time","content":"2022-07-06T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-11T01:58:07.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"go整合etcd\\",\\"image\\":[\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F07%2F04%2F20240704-212011.png\\",\\"https://javapub-common-oss.oss-cn-beijing.aliyuncs.com/javapub/2024%2F07%2F04%2F20240704-211952.png\\"],\\"datePublished\\":\\"2022-07-06T00:00:00.000Z\\",\\"dateModified\\":\\"2024-07-11T01:58:07.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Wang Shiyu\\"}]}"]]},"headers":[{"level":2,"title":"使用场景","slug":"使用场景","link":"#使用场景","children":[]},{"level":2,"title":"搭建 ETCD","slug":"搭建-etcd","link":"#搭建-etcd","children":[]},{"level":2,"title":"与 ETCD 交互","slug":"与-etcd-交互","link":"#与-etcd-交互","children":[]},{"level":2,"title":"集群","slug":"集群","link":"#集群","children":[]}],"git":{"createdTime":1720099239000,"updatedTime":1720663087000,"contributors":[{"name":"wangshiyu","email":"iswangshiyu@foxmail.com","commits":3}]},"readingTime":{"minutes":0.96,"words":288},"filePathRelative":"posts/other/etcd.md","localizedDate":"2022年7月6日","excerpt":"<ul>\\n<li>案例源码仓库地址： https://github.com/Rodert/go-demo</li>\\n<li>官方文档： https://etcd.io/</li>\\n<li>视频教程： https://space.bilibili.com/404747369</li>\\n</ul>\\n<iframe src=\\"//player.bilibili.com/player.html?isOutside=true&amp;aid=1456119038&amp;bvid=BV1hi421Y7rV&amp;cid=1609010816&amp;p=1\\" scrolling=\\"no\\" border=\\"0\\" frameborder=\\"no\\" framespacing=\\"0\\" allowfullscreen=\\"true\\"></iframe>","autoDesc":true}');export{m as comp,b as data};
